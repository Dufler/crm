<div id="boxInfoGadgetInviati" class="alert alert-info collapse"></div>

<div class="panel panel-default" data-ng-controller="pannelloGadgetInviatiController">
	
	<div id="headerPannelloGadgetInviati" title="Gadget Inviati" class="panel-heading" data-ng-click="caricaGadgetInviati()">Gadget Inviati</div>
	<div id="bodyPannelloGadgetInviati" class="panel-body collapse">
		<!-- Trigger the modal with a button -->
		<button type="button" class="btn btn-info btn-md" data-toggle="modal" data-target="#modaleAggiungiGadgetInviato">Aggiungi invio</button>
		<br />
		<br />
		<!-- Modal -->
		<div id="modaleAggiungiGadgetInviato" class="modal fade" role="dialog">
			<div class="modal-dialog">
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
						<h4 class="modal-title">Aggiungi un invio</h4>
					</div>
					<div class="modal-body">
						<p>Cerca l'azienda.</p>
						<form name="ricercaAzienda" novalidate>
							<div class="input-group">
								<input type="text" class="form-control" name="nomeContatto" data-ng-model="nomeAzienda" placeholder="Cerca...">
								<div class="input-group-btn">
									<button id="bottoneCaricamento" title="Cerca" name="Cerca" class="btn btn-default" type="submit" data-ng-click="cercaAzienda()">
										<i class="glyphicon glyphicon-search"></i>
									</button>
								</div>
							</div>
						</form>
						<br />
						<div id="boxErroriGadgetInviatiModale" class="alert alert-warning collapse"></div>
						<table class="lista" data-at-table data-at-paginated data-at-list="aziendePerGadgetInviato" data-at-config="configurazioneTabella">
							<thead>
								<tr class="lista">
									<th class="lista" data-at-attribute="ragioneSociale">Ragione Sociale</th>
								</tr>
							</thead>
							<tbody>
								<tr class="lista" data-ng-click="selezionaAzienda(item)">
									<td class="lista" data-at-attribute="ragioneSociale" data-at-implicit data-at-sortable></td>
								</tr>
							</tbody>
						</table>
						<at-pagination data-at-list="aziendePerGadgetInviato" data-at-config="configurazioneTabella"></at-pagination>
						<p data-ng-show="aziendaSelezionata != undefined">Azienda selezionata: {{aziendaSelezionata.ragioneSociale}}</p>
						<form name="formDatiGadgetInviato" novalidate>
							<div class="input-group">
								<input class="form-control" type="text" name="quantita" data-ng-model="quantita" placeholder="Quantita' inviata..." />
								<input class="form-control" type="date" name="dataInvio" data-ng-model="dataInvio" />
								<textarea placeholder="Note..." class="form-control" maxlength="250" form="formDatiNota" name="note" data-ng-model="note"> </textarea>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-ng-click="aggiungiGadgetInviato()">Inserisci</button>
						<button type="button" class="btn btn-default" data-dismiss="modal">Annulla</button>
					</div>
				</div>
			</div>
		</div>
		<br />
		<div class="well well-sm" data-ng-repeat="gadgetInviato in gadgetInviati" data-ng-controller="pannelloGadgetInviatoController">
			
			<div id="modaleConfermaEliminazioneGadgetInviato{{gadgetInviato.id}}" class="modal fade" role="dialog">
				<div class="modal-dialog">
					Modal content
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">&times;</button>
							<h4 class="modal-title">Conferma Eliminazione Invio</h4>
						</div>
						<div class="modal-body">
							<p>Sei sicuro di voler eliminare i dati sull'invio del gadget?</p>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-ng-click="eliminaGadgetInviato()">Si</button>
							<button type="button" class="btn btn-default" data-dismiss="modal">No</button>
						</div>
					</div>
				</div>
			</div>
			
			<div class="alert alert-info" data-ng-show="mostraInfoGadgetInviato">{{messaggioInfo}}<span class="close" data-dismiss="alert" aria-label="close" >&times;</span></div>
			<div class="alert alert-error" data-ng-show="mostraErroreGadgetInviato">{{messaggioErrore}}<span class="close" data-dismiss="alert" aria-label="close" >&times;</span></div>
			<span class="glyphicon glyphicon-pencil" data-ng-click="aggiornaGadgetInviato()"></span> <span class="glyphicon glyphicon-trash" data-ng-click="mostraConfermaEliminazioneGadgetInviato()"></span>
			<br />
			<label for="quantita">Quantit&agrave; inviata:</label> <input class="form-control" type="text" name="quantita" data-ng-model="gadgetInviato.quantita" />
			<label for="dataInvio">Data:</label> <input class="form-control" type="date" name="dataInvio" data-ng-model="gadgetInviato.dataInvio" />					
			<label for="note">Note:</label> <textarea  class="form-control" maxlength="250" name="note" data-ng-model="gadgetInviato.note"> </textarea>
		</div>
	</div>
</div>